mixin book(book) 
  .book
    if book.imageSrc 
      if book.href && !shortForm
        a(href=book.href)
          img(
            class={'book-cover': true, 'bordered': book.border},
            src=book.imageSrc,
            alt="Cover image of #{book.title}"
          )
      else
        img(
          class={'book-cover': true, 'bordered': book.border},
          src=book.imageSrc,
          alt="Cover image of #{book.title}"
        )

    .book-details
      if book.type === "chapter"
        .chapter-title "#{book.chapterTitle}".
      .title
        if book.type === "chapter"
          | in 
        i #{book.title}

        if book.subtitle 
          .subtitle 
            i #{book.subtitle}

      .byline
        if book.author
          | #{book.author}
          if !shortForm
            | .
        if book.editor 
          if book.author 
            |  
          | #{book.editor} (ed.).

        if !shortForm
          if book.publisher
            |  Published by #{book.publisher}
            if !book.formattedDate
              | .
            else
              | , #{book.formattedDate}.
          else 
            if book.formattedDate
              | Published #{book.formattedDate}. 
      
      if !shortForm
        .reading-info
          if book.status 
            div(class=['status', book.status])
              != READING_STATUSES_MAP[book.status][0].toUpperCase() + READING_STATUSES_MAP[book.status].substr(1)
          
          if book.formattedStarted
            .reading-dates 
              | Started #{book.formattedStarted}
              if !book.formattedCompleted
                | .
              else 
                | ; completed #{book.formattedCompleted}.
            
      if page === 'reference' && !shortForm 
        if book.targetArticles.length 
          .target-articles
            i.fab.fa-wikipedia-w
            span.header For Wikipedia article
              if book.targetArticles.length === 1
                |: 
              else 
                |s: 
            
            ul 
              each ta, index in book.targetArticles
                a(href=ta.href) #{ta.title}
                if index !== book.targetArticles.length - 1
                  span , 

      if book.tags
        .tags
          span.tags= book.tags.map(function(t) { return t.text }).join(', ')
