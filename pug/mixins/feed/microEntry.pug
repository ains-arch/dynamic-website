mixin microEntry(entry, {standalone=false, isLoggedIn=false, isInFeed=false} = {})
  article.entry.h-entry.hentry
    header
      if isInFeed
        .post-icon.icon
          if standalone
            include ../../icons/chat.svg
          else
            a(href=`/micro/entry/${entry.slug}`)
              include ../../icons/chat.svg
      if entry.title
        h2.p-name #{entry.title}
    .p-content.e-content
      each block in entry.html
        != block

    footer.footer
      .flex-row.post-meta
        .timestamp
          a(href=`/micro/entry/${entry.slug}`)
            time.dt-published(datetime=entry.createdAt.toISOString(), title=entry.absoluteTime) #{entry.humanTime}
          if isLoggedIn
            span.edit-icon.icon
              a(href=`/micro/editor/${entry.slug}`)
                include ../../icons/pencil.svg
        .social-links 
          if entry.socialLinks && entry.socialLinks.length 
            span Also posted to:
            each socialLink in entry.socialLinks
              a(class=`social-link u-syndication ${socialLink.type}` href=socialLink.href, title=socialLink.type.charAt(0).toUpperCase() + socialLink.type.slice(1), rel="syndication")
                include ./icon.pug
                +icon(socialLink.type)
      .tags
        if entry.tags && entry.tags.length
          each tag in entry.tags 
            a.tag.p-category(href=`/${isInFeed ? 'feed' : 'micro'}/tag/${tag.value}`, title=`See all ${isInFeed ? 'feed' : 'micro'} posts tagged "${tag.text}"` rel="category tag") #{tag.text}
